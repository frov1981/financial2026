<script>
  window.USER_ID = "<%= USER_ID %>"
</script>

<h1 class="ui-title">Inicio</h1>

<p class="text-gray-700 mb-6">
  Bienvenido a la aplicación de gestión financiera. Aquí puedes administrar tus cuentas,
  transacciones y generar reportes financieros.
</p>

<!-- ============================
     CARD: KPIs GLOBALES
============================= -->
<div class="ui-card">

  <div class="ui-card-header" onclick="toggleCard('kpis-global-balance')">
    <h2 class="ui-card-title">
      KPIs Balances
      <span class="subtitle">Global</span>
    </h2>
    <span id="icon-kpis-global-balance" class="ui-card-toggle">▾</span>
  </div>

  <div id="kpis-global-balance" class="ui-card-body">

    <div class="ui-kpi-grid cols-4">
      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Ingresos Totales</p>
        <p class="ui-kpi-value ui-kpi-green" id="kpis-global-balance-total-income">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Egresos Totales</p>
        <p class="ui-kpi-value ui-kpi-red" id="kpis-global-balance-total-expense">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Ahorros</p>
        <p class="ui-kpi-value ui-kpi-green" id="kpis-global-balance-total-savings">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Retiros</p>
        <p class="ui-kpi-value ui-kpi-red" id="kpis-global-balance-total-withdrawals">–</p>
      </div>
    </div>

    <div class="ui-kpi-grid cols-2" style="margin-top: 1rem;">
      <div class="ui-kpi-item" style="display: none;">
        <p class="ui-kpi-label">Valor neto</p>
        <p class="ui-kpi-value" id="kpis-global-balance-net-worth">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Ahorro Disponible</p>
        <p class="ui-kpi-value ui-kpi-blue" id="kpis-global-balance-available-savings">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Saldo neto</p>
        <p class="ui-kpi-value" id="kpis-global-balance-net-balance">–</p>
      </div>
    </div>

  </div>
</div>

<!-- ============================
     CARD: KPIs 6 MESES
============================= -->
<div class="ui-card">

  <div class="ui-card-header" onclick="toggleCard('kpis-last-6months-balance')">
    <h2 class="ui-card-title">
      KPIs Balances
      <span class="subtitle">Últimos 6 meses</span>
    </h2>
    <span id="icon-kpis-last-6months-balance" class="ui-card-toggle">▾</span>
  </div>

  <div id="kpis-last-6months-balance" class="ui-card-body">

    <div class="ui-kpi-grid cols-4">
      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Ingresos</p>
        <p class="ui-kpi-value ui-kpi-green" 
        id="kpi-last-6months-total-income">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Egresos</p>
        <p class="ui-kpi-value ui-kpi-red" id="kpi-last-6months-total-expense">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Balance</p>
        <p class="ui-kpi-value" id="kpi-last-6months-balance">–</p>
      </div>

      <div class="ui-kpi-item">
        <p class="ui-kpi-label">Promedio Gasto Mensual</p>
        <p class="ui-kpi-value">
          <span id="kpi-last-6months-avg-expense">–</span>
          <span class="text-sm ml-1" id="kpi-last-6months-trend"></span>
        </p>
      </div>
    </div>

  </div>
</div>

<!-- ============================
     CARD: GRÁFICO 6 MESES
============================= -->
<div class="ui-card">

  <div class="ui-card-header" onclick="toggleCard('chart-data-last-6months-balance')">
    <h2 class="ui-card-title">
      Tendencia de Ingresos y Egresos
      <span class="subtitle">Últimos 6 meses</span>
    </h2>
    <span id="icon-chart-data-last-6months-balance" class="ui-card-toggle">▾</span>
  </div>

  <div id="chart-data-last-6months-balance" class="ui-card-body">
    <div class="relative" style="height: 280px;">
      <canvas id="varChartDataLast6MonthsBalance"></canvas>
    </div>
  </div>

</div>

<!-- ============================
     CARD: GRÁFICO 6 AÑOS
============================= -->
<div class="ui-card">

  <div class="ui-card-header" onclick="toggleCard('chart-data-last-6years-balance')">
    <h2 class="ui-card-title">
      Tendencia de Ingresos y Egresos
      <span class="subtitle">Últimos 6 años</span>
    </h2>
    <span id="icon-chart-data-last-6years-balance" class="ui-card-toggle">▾</span>
  </div>

  <div id="chart-data-last-6years-balance" class="ui-card-body">
    <div class="relative" style="height: 280px;">
      <canvas id="varChartDataLast6YearsBalance"></canvas>
    </div>
  </div>

</div>

<!-- ============================
     CARD: GRÁFICO 6 AÑOS DE PRÉSTAMOS
============================= -->
<div class="ui-card">
  <div class="ui-card-header" onclick="toggleCard('chart-data-last-6years-loan')">
    <h2 class="ui-card-title">
      Tendencia de Préstamos
      <span class="subtitle">Últimos 6 años</span>
    </h2>
    <span id="icon-chart-data-last-6years-loan" class="ui-card-toggle">▾</span>
  </div>
  <div id="chart-data-last-6years-loan" class="ui-card-body">
    <div class="relative" style="height: 280px;">
      <canvas id="loansAnnualChart"></canvas>
    </div>
  </div>
</div>

<script src="/js/helpers/icon-helper.js"></script>
<script src="/js/indexes/home-index.js"></script>